# ü§ù Guia de Contribui√ß√£o - UltraTexto Pro

<div align="center">

![Contributing Banner](https://via.placeholder.com/800x200/2b2b2b/ffffff?text=Contribua+com+o+UltraTexto+Pro)

**Obrigado por considerar contribuir com o UltraTexto Pro!**

[![Contributors](https://img.shields.io/github/contributors/seu-usuario/ultra-texto-pro)](https://github.com/seu-usuario/ultra-texto-pro/graphs/contributors)
[![Issues](https://img.shields.io/github/issues/seu-usuario/ultra-texto-pro)](https://github.com/seu-usuario/ultra-texto-pro/issues)
[![Pull Requests](https://img.shields.io/github/issues-pr/seu-usuario/ultra-texto-pro)](https://github.com/seu-usuario/ultra-texto-pro/pulls)

</div>

---

## üìã √çndice

- [üéØ Como Contribuir](#-como-contribuir)
- [üèóÔ∏è Configura√ß√£o do Ambiente](#Ô∏è-configura√ß√£o-do-ambiente)
- [üìù Padr√µes de C√≥digo](#-padr√µes-de-c√≥digo)
- [üß™ Testes](#-testes)
- [üìñ Documenta√ß√£o](#-documenta√ß√£o)
- [üêõ Reportando Bugs](#-reportando-bugs)
- [üí° Sugerindo Melhorias](#-sugerindo-melhorias)
- [üîÑ Processo de Pull Request](#-processo-de-pull-request)
- [üë• Comunidade](#-comunidade)

---

## üéØ Como Contribuir

Existem v√°rias maneiras de contribuir com o UltraTexto Pro:

### üîß **Desenvolvimento**
- Implementar novas funcionalidades
- Corrigir bugs existentes
- Melhorar performance
- Refatorar c√≥digo

### üìù **Documenta√ß√£o**
- Melhorar documenta√ß√£o existente
- Criar tutoriais e guias
- Traduzir documenta√ß√£o
- Corrigir erros de escrita

### üß™ **Testes**
- Reportar bugs
- Testar novas funcionalidades
- Criar casos de teste
- Melhorar cobertura de testes

### üé® **Design**
- Melhorar interface do usu√°rio
- Criar √≠cones e assets
- Sugerir melhorias de UX
- Criar mockups

---

## üèóÔ∏è Configura√ß√£o do Ambiente

### üìã **Pr√©-requisitos**

- üêç **Python 3.8+** (recomendado 3.9+)
- üîß **Git** para controle de vers√£o
- üìù **Editor de c√≥digo** (VS Code, PyCharm, etc.)

### ‚ö° **Configura√ß√£o R√°pida**

```bash
# 1Ô∏è‚É£ Fork o reposit√≥rio no GitHub
# Clique em "Fork" na p√°gina do projeto

# 2Ô∏è‚É£ Clone seu fork
git clone https://github.com/SEU-USUARIO/ultra-texto-pro.git
cd ultra-texto-pro/ultra-texto

# 3Ô∏è‚É£ Configure o reposit√≥rio upstream
git remote add upstream https://github.com/USUARIO-ORIGINAL/ultra-texto-pro.git

# 4Ô∏è‚É£ Crie um ambiente virtual
python -m venv .venv

# 5Ô∏è‚É£ Ative o ambiente virtual
# Windows
.venv\Scripts\activate
# Linux/macOS
source .venv/bin/activate

# 6Ô∏è‚É£ Instale depend√™ncias de desenvolvimento
pip install -r requirements-dev.txt

# 7Ô∏è‚É£ Execute os testes para verificar se tudo est√° funcionando
python -m pytest tests/
```

### üîß **Depend√™ncias de Desenvolvimento**

Crie um arquivo `requirements-dev.txt`:

```txt
# Testes
pytest>=7.0.0
pytest-cov>=4.0.0
pytest-mock>=3.10.0

# Qualidade de c√≥digo
flake8>=6.0.0
black>=23.0.0
isort>=5.12.0
mypy>=1.0.0

# Documenta√ß√£o
sphinx>=6.0.0
sphinx-rtd-theme>=1.2.0

# Utilit√°rios
pre-commit>=3.0.0
tox>=4.0.0
```

### üé£ **Configura√ß√£o de Pre-commit Hooks**

```bash
# Instalar pre-commit
pip install pre-commit

# Configurar hooks
pre-commit install
```

Crie `.pre-commit-config.yaml`:

```yaml
repos:
  - repo: https://github.com/psf/black
    rev: 23.1.0
    hooks:
      - id: black
        language_version: python3

  - repo: https://github.com/pycqa/isort
    rev: 5.12.0
    hooks:
      - id: isort

  - repo: https://github.com/pycqa/flake8
    rev: 6.0.0
    hooks:
      - id: flake8

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.0.0
    hooks:
      - id: mypy
```

---

## üìù Padr√µes de C√≥digo

### üêç **Estilo Python**

Seguimos o **PEP 8** com algumas adapta√ß√µes:

```python
# ‚úÖ Bom
class FileProcessor:
    """Processa arquivos de acordo com as configura√ß√µes."""
    
    def __init__(self, config: ConfigManager) -> None:
        self.config = config
        self._processed_files: List[FileInfo] = []
    
    def process_file(self, file_path: Path) -> Optional[FileInfo]:
        """Processa um arquivo individual."""
        try:
            return self._do_process_file(file_path)
        except Exception as e:
            logger.error(f"Erro ao processar {file_path}: {e}")
            return None

# ‚ùå Ruim
class fileprocessor:
    def __init__(self,config):
        self.config=config
        self.processed_files=[]
    
    def processFile(self,filePath):
        return self.doProcessFile(filePath)
```

### üìè **Conven√ß√µes de Nomenclatura**

| Tipo | Conven√ß√£o | Exemplo |
|---|---|---|
| **Classes** | PascalCase | `FileProcessor`, `ConfigManager` |
| **Fun√ß√µes/M√©todos** | snake_case | `process_file()`, `get_config()` |
| **Vari√°veis** | snake_case | `file_path`, `processed_count` |
| **Constantes** | UPPER_SNAKE_CASE | `MAX_FILE_SIZE`, `DEFAULT_ENCODING` |
| **M√≥dulos** | snake_case | `file_processor.py`, `config_manager.py` |

### üèóÔ∏è **Estrutura de Arquivos**

```python
"""
M√≥dulo para processamento de arquivos.

Este m√≥dulo cont√©m classes e fun√ß√µes para processar diferentes
tipos de arquivo de acordo com as configura√ß√µes do usu√°rio.
"""

from pathlib import Path
from typing import List, Optional, Dict, Any
import logging

from core.interfaces import IFileProcessor
from core.exceptions import FileProcessingError
from utils.file_utils import is_text_file

logger = logging.getLogger(__name__)


class FileProcessor(IFileProcessor):
    """Implementa√ß√£o do processador de arquivos."""
    
    def __init__(self, config: 'ConfigManager') -> None:
        """
        Inicializa o processador de arquivos.
        
        Args:
            config: Gerenciador de configura√ß√µes
        """
        self.config = config
        self._stats = ProcessingStats()
    
    # Resto da implementa√ß√£o...
```

### üîç **Type Hints**

Use type hints em todas as fun√ß√µes e m√©todos:

```python
from typing import List, Dict, Optional, Union, Callable
from pathlib import Path

def process_directory(
    directory: Path,
    extensions: List[str],
    progress_callback: Optional[Callable[[int], None]] = None
) -> Dict[str, Any]:
    """Processa um diret√≥rio e retorna estat√≠sticas."""
    pass
```

---

## üß™ Testes

### üéØ **Filosofia de Testes**

- **Cobertura m√≠nima**: 80%
- **Testes unit√°rios** para l√≥gica de neg√≥cio
- **Testes de integra√ß√£o** para fluxos completos
- **Testes de interface** para componentes UI

### üìÅ **Estrutura de Testes**

```
tests/
‚îú‚îÄ‚îÄ unit/                    # Testes unit√°rios
‚îÇ   ‚îú‚îÄ‚îÄ test_file_processor.py
‚îÇ   ‚îú‚îÄ‚îÄ test_config_manager.py
‚îÇ   ‚îî‚îÄ‚îÄ test_exclusion_manager.py
‚îú‚îÄ‚îÄ integration/             # Testes de integra√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ test_full_workflow.py
‚îÇ   ‚îî‚îÄ‚îÄ test_export_pipeline.py
‚îú‚îÄ‚îÄ ui/                      # Testes de interface
‚îÇ   ‚îú‚îÄ‚îÄ test_main_window.py
‚îÇ   ‚îî‚îÄ‚îÄ test_components.py
‚îú‚îÄ‚îÄ fixtures/                # Dados de teste
‚îÇ   ‚îú‚îÄ‚îÄ sample_files/
‚îÇ   ‚îî‚îÄ‚îÄ test_configs/
‚îî‚îÄ‚îÄ conftest.py             # Configura√ß√µes pytest
```

### ‚úçÔ∏è **Escrevendo Testes**

```python
import pytest
from pathlib import Path
from unittest.mock import Mock, patch

from modules.file_processor import FileProcessor
from modules.config_manager import ConfigManager


class TestFileProcessor:
    """Testes para o processador de arquivos."""
    
    @pytest.fixture
    def config_manager(self):
        """Fixture para o gerenciador de configura√ß√µes."""
        config = ConfigManager()
        config.load_default_config()
        return config
    
    @pytest.fixture
    def file_processor(self, config_manager):
        """Fixture para o processador de arquivos."""
        return FileProcessor(config_manager)
    
    def test_process_python_file(self, file_processor, tmp_path):
        """Testa processamento de arquivo Python."""
        # Arrange
        test_file = tmp_path / "test.py"
        test_file.write_text("print('Hello, World!')")
        
        # Act
        result = file_processor.process_file(test_file)
        
        # Assert
        assert result is not None
        assert result.extension == ".py"
        assert "Hello, World!" in result.content
    
    def test_process_nonexistent_file(self, file_processor):
        """Testa processamento de arquivo inexistente."""
        # Arrange
        nonexistent_file = Path("does_not_exist.py")
        
        # Act & Assert
        with pytest.raises(FileNotFoundError):
            file_processor.process_file(nonexistent_file)
    
    @patch('modules.file_processor.logger')
    def test_process_file_with_error(self, mock_logger, file_processor):
        """Testa tratamento de erro durante processamento."""
        # Arrange
        with patch.object(file_processor, '_read_file_content', 
                         side_effect=Exception("Test error")):
            test_file = Path("test.py")
            
            # Act
            result = file_processor.process_file(test_file)
            
            # Assert
            assert result is None
            mock_logger.error.assert_called_once()
```

### üèÉ **Executando Testes**

```bash
# Todos os testes
pytest

# Testes espec√≠ficos
pytest tests/unit/test_file_processor.py

# Com cobertura
pytest --cov=modules --cov-report=html

# Testes em modo verbose
pytest -v

# Testes com sa√≠da detalhada
pytest -s

# Executar apenas testes que falharam na √∫ltima execu√ß√£o
pytest --lf
```

---

## üìñ Documenta√ß√£o

### üìù **Docstrings**

Use o formato **Google Style**:

```python
def process_directory(
    directory: Path,
    include_subdirs: bool = True,
    progress_callback: Optional[Callable[[int], None]] = None
) -> ProcessingResult:
    """
    Processa todos os arquivos em um diret√≥rio.
    
    Args:
        directory: Caminho para o diret√≥rio a ser processado
        include_subdirs: Se deve incluir subdiret√≥rios
        progress_callback: Fun√ß√£o chamada para reportar progresso (0-100)
    
    Returns:
        Resultado do processamento com estat√≠sticas e arquivos processados
    
    Raises:
        DirectoryNotFoundError: Se o diret√≥rio n√£o existir
        PermissionError: Se n√£o houver permiss√£o para acessar o diret√≥rio
    
    Example:
        >>> processor = FileProcessor(config)
        >>> result = processor.process_directory(Path("./src"))
        >>> print(f"Processados {result.file_count} arquivos")
    """
    pass
```

### üìö **Documenta√ß√£o de M√≥dulos**

```python
"""
M√≥dulo de processamento de arquivos.

Este m√≥dulo fornece funcionalidades para processar diferentes tipos
de arquivo, extrair conte√∫do e gerar estat√≠sticas.

Classes:
    FileProcessor: Processador principal de arquivos
    FileInfo: Informa√ß√µes sobre um arquivo processado
    ProcessingStats: Estat√≠sticas de processamento

Fun√ß√µes:
    is_supported_file: Verifica se um arquivo √© suportado
    get_file_encoding: Detecta a codifica√ß√£o de um arquivo

Example:
    >>> from modules.file_processor import FileProcessor
    >>> processor = FileProcessor(config_manager)
    >>> result = processor.process_directory(Path("./src"))
"""
```

---

## üêõ Reportando Bugs

### üìù **Template de Bug Report**

Ao reportar um bug, use o seguinte template:

```markdown
## üêõ Descri√ß√£o do Bug
Uma descri√ß√£o clara e concisa do bug.

## üîÑ Passos para Reproduzir
1. V√° para '...'
2. Clique em '...'
3. Role para baixo at√© '...'
4. Veja o erro

## ‚úÖ Comportamento Esperado
Uma descri√ß√£o clara do que voc√™ esperava que acontecesse.

## ‚ùå Comportamento Atual
Uma descri√ß√£o clara do que realmente aconteceu.

## üì∏ Screenshots
Se aplic√°vel, adicione screenshots para ajudar a explicar o problema.

## üíª Ambiente
- OS: [ex: Windows 10]
- Python: [ex: 3.9.7]
- Vers√£o do UltraTexto Pro: [ex: 2.0.0]

## üìã Informa√ß√µes Adicionais
Qualquer outra informa√ß√£o sobre o problema.

## üîç Logs
```
Cole aqui os logs relevantes
```
```

### üîç **Coletando Informa√ß√µes de Debug**

```python
# Para coletar informa√ß√µes de debug, execute:
from utils.logging_utils import create_debug_report

debug_info = create_debug_report()
print(debug_info)
```

---

## üí° Sugerindo Melhorias

### üìù **Template de Feature Request**

```markdown
## üéØ Resumo da Funcionalidade
Uma descri√ß√£o clara e concisa da funcionalidade desejada.

## ü§î Problema que Resolve
Qual problema esta funcionalidade resolveria?

## üí° Solu√ß√£o Proposta
Uma descri√ß√£o clara da solu√ß√£o que voc√™ gostaria de ver.

## üîÑ Alternativas Consideradas
Outras solu√ß√µes que voc√™ considerou.

## üìä Casos de Uso
- Caso de uso 1: ...
- Caso de uso 2: ...

## üé® Mockups/Exemplos
Se aplic√°vel, adicione mockups ou exemplos.

## üìà Impacto
Como esta funcionalidade beneficiaria os usu√°rios?

## üîß Implementa√ß√£o
Ideias sobre como implementar (opcional).
```

---

## üîÑ Processo de Pull Request

### üìã **Checklist Antes do PR**

- [ ] ‚úÖ C√≥digo segue os padr√µes estabelecidos
- [ ] üß™ Testes foram adicionados/atualizados
- [ ] üìù Documenta√ß√£o foi atualizada
- [ ] üîç C√≥digo foi revisado por voc√™ mesmo
- [ ] ‚ö° Testes passam localmente
- [ ] üìä Cobertura de testes mantida/melhorada

### üè∑Ô∏è **Conven√ß√µes de Commit**

Use **Conventional Commits**:

```bash
# Tipos de commit
feat: nova funcionalidade
fix: corre√ß√£o de bug
docs: mudan√ßas na documenta√ß√£o
style: formata√ß√£o, ponto e v√≠rgula, etc
refactor: refatora√ß√£o de c√≥digo
test: adi√ß√£o ou corre√ß√£o de testes
chore: mudan√ßas em ferramentas, configura√ß√µes, etc

# Exemplos
git commit -m "feat: adicionar suporte a arquivos .tsx"
git commit -m "fix: corrigir erro de encoding em arquivos grandes"
git commit -m "docs: atualizar guia de instala√ß√£o"
git commit -m "test: adicionar testes para ExclusionManager"
```

### üìù **Template de Pull Request**

```markdown
## üìã Descri√ß√£o
Breve descri√ß√£o das mudan√ßas realizadas.

## üéØ Tipo de Mudan√ßa
- [ ] üêõ Bug fix (mudan√ßa que corrige um problema)
- [ ] ‚ú® Nova funcionalidade (mudan√ßa que adiciona funcionalidade)
- [ ] üí• Breaking change (mudan√ßa que quebra compatibilidade)
- [ ] üìù Documenta√ß√£o (mudan√ßa apenas na documenta√ß√£o)

## üß™ Como Foi Testado?
Descreva os testes realizados para verificar suas mudan√ßas.

## üìã Checklist
- [ ] Meu c√≥digo segue os padr√µes do projeto
- [ ] Realizei uma auto-revis√£o do c√≥digo
- [ ] Comentei partes complexas do c√≥digo
- [ ] Atualizei a documenta√ß√£o correspondente
- [ ] Minhas mudan√ßas n√£o geram novos warnings
- [ ] Adicionei testes que provam que minha corre√ß√£o/funcionalidade funciona
- [ ] Testes novos e existentes passam localmente

## üì∏ Screenshots (se aplic√°vel)
Adicione screenshots das mudan√ßas visuais.

## üîó Issues Relacionadas
Fixes #123
Closes #456
```

### üîÑ **Fluxo de Trabalho**

```bash
# 1Ô∏è‚É£ Sincronize com upstream
git checkout main
git pull upstream main

# 2Ô∏è‚É£ Crie uma branch para sua feature
git checkout -b feature/nome-da-feature

# 3Ô∏è‚É£ Fa√ßa suas mudan√ßas e commits
git add .
git commit -m "feat: adicionar nova funcionalidade"

# 4Ô∏è‚É£ Execute testes
pytest

# 5Ô∏è‚É£ Push para seu fork
git push origin feature/nome-da-feature

# 6Ô∏è‚É£ Abra um Pull Request no GitHub
```

---

## üë• Comunidade

### üí¨ **Canais de Comunica√ß√£o**

- üêõ **Issues**: Para bugs e feature requests
- üí¨ **Discussions**: Para perguntas e discuss√µes gerais
- üìß **Email**: contato@ultratexto.com

### üéØ **C√≥digo de Conduta**

Seguimos o [Contributor Covenant](https://www.contributor-covenant.org/):

- **Seja respeitoso** com outros contribuidores
- **Seja inclusivo** e acolhedor
- **Seja construtivo** em feedback e cr√≠ticas
- **Seja paciente** com iniciantes

### üèÜ **Reconhecimento**

Contribuidores s√£o reconhecidos:

- üìù **README**: Lista de contribuidores
- üéâ **Releases**: Men√ß√£o em notas de lan√ßamento
- üèÖ **Badges**: Badges especiais para grandes contribui√ß√µes

---

## üöÄ Primeiros Passos

### üéØ **Issues para Iniciantes**

Procure por issues marcadas com:
- `good first issue` - Bom para iniciantes
- `help wanted` - Ajuda necess√°ria
- `documentation` - Melhorias na documenta√ß√£o

### üìö **Recursos √öteis**

- üìñ [Documenta√ß√£o do Python](https://docs.python.org/3/)
- üß™ [Pytest Documentation](https://docs.pytest.org/)
- üé® [Tkinter Tutorial](https://docs.python.org/3/library/tkinter.html)
- üîß [Git Handbook](https://guides.github.com/introduction/git-handbook/)

---

<div align="center">

## üôè Obrigado por Contribuir!

**Sua contribui√ß√£o faz a diferen√ßa!**

[![Contributors](https://contrib.rocks/image?repo=seu-usuario/ultra-texto-pro)](https://github.com/seu-usuario/ultra-texto-pro/graphs/contributors)

---

**UltraTexto Pro** - *Constru√≠do pela comunidade, para a comunidade*

[‚¨ÜÔ∏è Voltar ao topo](#-guia-de-contribui√ß√£o---ultratexto-pro)

</div>